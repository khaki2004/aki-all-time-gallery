<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Art Portfolio - アナログ・デジタルアート作品集</title>
    <meta name="description" content="アナログイラスト、デジタルイラストを展示するアートポートフォリオサイト。" />
    <meta name="keywords" content="アートポートフォリオ,イラスト,デジタルアート,鉛筆画、ペン画,水彩画,油彩画" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@200;300;400;500;600&family=Playfair+Display:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./style.css" />
    <link rel="icon" href="./Icon.webp">


    <title>Artwork Detail | Art Portfolio</title>
  </head>
  <body>
    <header class="navbar">
      <div class="container navbar__inner">
        <a class="brand" href="./index.html">
          <span class="brand__dot" aria-hidden="true"></span>
          <span>Art Portfolio</span>
        </a>
        <nav class="navlinks" aria-label="Global navigation">
          <a href="./index.html" class="is-active">Home</a>
          <a href="./analog.html" class="">Analog</a>
          <a href="./digital.html" class="">Digital</a>
          <!--<a href="./models.html" class="">3D Models</a> -->
        </nav>
      </div>
    </header>

    <main class="detail">
      <div class="container">
        <a class="backlink" id="backlink" href="./index.html">
          <i class="ri-arrow-left-line" aria-hidden="true"></i>
          <span>ホームに戻る</span>
        </a>

        <div class="detail__grid">
          <!-- 作品画像 -->
          <div>
            <figure class="figure">
              <img loading="lazy" src="./e.webp" alt="Artwork" data-artwork="image" draggable="false">
            </figure>
          </div>

          <!-- 作品情報 -->
          <div>
            <h1 class="detail__title" data-artwork="title">作品タイトル（テンプレ）</h1>

            <div class="detail__meta">
              <span data-artwork="type">タイプ</span>
            </div>


            <p class="detail__desc" data-artwork="description">
              作品説明（テンプレ）。ここはあとでJSで差し替える前提です。
            </p>
          </div>
        </div>
      </div>
    </main>
    <footer class="footer">
      <div class="container footer__inner">
        <div>© 2025 Art Portfolio</div>
      </div>
    </footer>
    <script>
      (function () {
        const params = new URLSearchParams(window.location.search);

        const img = params.get("img") || "";
        const title = params.get("title") || "";
        const type = params.get("type") || "";
        const desc = params.get("desc") || ""; // 追加：説明（今は空でもOK）
        const from = params.get("from") || "";

        // 表示差し替え
        const imgEl = document.querySelector('[data-artwork="image"]');
        const titleEl = document.querySelector('[data-artwork="title"]');
        const typeEl = document.querySelector('[data-artwork="type"]');
        const descEl = document.querySelector('[data-artwork="description"]');

        if (imgEl && img) {
          imgEl.src = img;
          imgEl.alt = title ? title : "Artwork";
        }
        if (titleEl) titleEl.textContent = title || "";
        if (typeEl) typeEl.textContent = type || "";
        if (descEl) descEl.textContent = desc || ""; // 今は空白運用

        // “ホームに戻る”＝直前の一覧へ
        // ※id名をHTMLに合わせる（backlink）
        const backLink = document.getElementById("backlink");

        // 優先順位：from(クエリ) > sessionStorage > referrer > index
        const lastGalleryUrl =
          from ||
          sessionStorage.getItem("lastGalleryUrl") ||
          document.referrer ||
          "./index.html";

        if (backLink) {
          backLink.href = lastGalleryUrl;
          backLink.addEventListener("click", function (e) {
            e.preventDefault();
            window.location.href = lastGalleryUrl;
          });
        }
      })();
    </script>


  </body>
</html>
